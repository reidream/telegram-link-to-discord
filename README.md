
````markdown
# ğŸ¤– Telegram to Discord Bot

Telegram ãƒãƒ£ãƒ³ãƒãƒ«ã‹ã‚‰ URL ã‚’å«ã‚€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è‡ªå‹•æ¤œçŸ¥ã—ã€Discord ã«è»¢é€ã™ã‚‹ Bot

![Bot Demo](https://pbs.twimg.com/media/Gj0GF9IaEAAInel?format=jpg&name=large)

---

## ğŸ“‹ ã§ãã‚‹ã“ã¨

- ğŸ” Telegram ãƒãƒ£ãƒ³ãƒãƒ«ã‚’å®šæœŸç›£è¦–
- ğŸ”— URL ã‚’å«ã‚€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è‡ªå‹•æ¤œå‡ºï¼ˆ4 ã¤ã®æ–¹æ³•ã§æŠ½å‡ºï¼‰
- ğŸ’¬ å‰å¾Œã®ä¼šè©±ã‚‚ä¸€ç·’ã«è»¢é€
- ğŸ“¢ Discord ã«è¦‹ã‚„ã™ãæ•´å½¢ã—ã¦æŠ•ç¨¿

**ãƒ‡ãƒ¢ãƒ»è©³ç´°**: [https://x.com/leidream1/status/1978234085639385336](https://x.com/leidream1/status/1978234085639385336)

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ç’°å¢ƒæ§‹ç¯‰

```bash
conda env create -f environment.yml
conda activate linkbot
```
````

### 2. Telegram API å–å¾—

1. [https://my.telegram.org/apps](https://my.telegram.org/apps) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
3. `API ID` ã¨ `API Hash` ã‚’ãƒ¡ãƒ¢

### 3. Discord Bot ä½œæˆ

1. [Discord Developer Portal](https://discord.com/developers/applications) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã€ŒNew Applicationã€â†’ Bot ä½œæˆ
3. ã€ŒBotã€â†’ã€ŒReset Tokenã€ã§ Token å–å¾—
4. **MESSAGE CONTENT INTENT** ã‚’ ON
5. ã€ŒOAuth2ã€â†’ã€ŒURL Generatorã€
   - Scopes: `bot`
   - Permissions: `Send Messages`, `Embed Links`, `Read Message History`
6. ç”Ÿæˆã•ã‚ŒãŸ URL ã§ Bot ã‚’ã‚µãƒ¼ãƒãƒ¼ã«æ‹›å¾…

### 4. ãƒãƒ£ãƒ³ãƒãƒ« ID å–å¾—

Discord è¨­å®šã§ã€Œé–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã€ON â†’ ãƒãƒ£ãƒ³ãƒãƒ«ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€ŒID ã‚’ã‚³ãƒ”ãƒ¼ã€

### 5. ç’°å¢ƒå¤‰æ•°è¨­å®š

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« `.env` ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ:

```env
# Telegram
TG_API_ID=12345678
TG_API_HASH=your_api_hash_here
TG_SESSION=tg_session
target2=@channelname
TG_LIMIT=100

# Discord
DISCORD_BOT_TOKEN=your_bot_token_here
DISCORD_CHANNEL_ID=1234567890123456789
```

### 6. .gitignore ä½œæˆ

```gitignore
.env
*.session
*.session-journal
__pycache__/
```

---

## â–¶ï¸ ä½¿ã„æ–¹

```bash
python main.py
```

**åˆå›ã®ã¿**: é›»è©±ç•ªå·ã¨èªè¨¼ã‚³ãƒ¼ãƒ‰å…¥åŠ›  
**2 å›ç›®ä»¥é™**: è‡ªå‹•èµ·å‹•

**åœæ­¢**: `Ctrl + C`

---

## âš™ï¸ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ãƒã‚§ãƒƒã‚¯é–“éš”å¤‰æ›´

`main.py` ã® 120 è¡Œç›®ä»˜è¿‘:

```python
await asyncio.sleep(60)  # ç§’æ•°ã‚’å¤‰æ›´
```

**æ¨å¥¨è¨­å®š:**

- `60` = 1 åˆ†ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰
- `600` = 10 åˆ†ï¼ˆãƒãƒ©ãƒ³ã‚¹ï¼‰
- `3600` = 1 æ™‚é–“ï¼ˆå¯èª­æ€§é‡è¦– â­ æ¨å¥¨ï¼‰

### å‰å¾Œã®ä¼šè©±æ•°å¤‰æ›´

`main.py` ã® 75 è¡Œç›®ä»˜è¿‘:

```python
context = await info_bot.get_context_messages(
    chat, m.id,
    before=2,  # å‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°
    after=5    # å¾Œã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°
)
```

---

## âš ï¸ é‡è¦ãªæ³¨æ„

### ã€Œå¾Œã®ä¼šè©±ã€ãŒå–ã‚Œãªã„å•é¡Œ

**ãƒã‚§ãƒƒã‚¯é–“éš”ãŒçŸ­ã™ãã‚‹ã¨ã€URL ã®å¾Œã«ã¾ã æŠ•ç¨¿ãŒãªã„å¯èƒ½æ€§å¤§**

| é–“éš”      | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ | å¾Œã®ä¼šè©±å–å¾—ç‡ | ãŠã™ã™ã‚ç”¨é€”   |
| --------- | -------------- | -------------- | -------------- |
| 1 åˆ†      | â˜…â˜…â˜…â˜…â˜…          | 10%            | ç·Šæ€¥é€šçŸ¥       |
| 10 åˆ†     | â˜…â˜…â˜…â˜…â˜†          | 50%            | ä¸€èˆ¬åˆ©ç”¨       |
| 1 æ™‚é–“ â­ | â˜…â˜…â˜†â˜†â˜†          | 90%            | **å¯èª­æ€§é‡è¦–** |

**æ¨å¥¨: 1 æ™‚é–“é–“éš”**

- URL ã®å¾Œã«ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåå¿œã™ã‚‹æ™‚é–“ãŒã‚ã‚‹
- ä¼šè©±ã®æµã‚Œå…¨ä½“ãŒæŠŠæ¡ã§ãã‚‹

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

| ã‚¨ãƒ©ãƒ¼                           | è§£æ±ºæ–¹æ³•                                               |
| -------------------------------- | ------------------------------------------------------ |
| `DISCORD_BOT_TOKEN not found`    | `.env` ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã‹ç¢ºèª                            |
| `Channel not found`              | Bot ãŒã‚µãƒ¼ãƒãƒ¼ã«ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ ID ã‚’å†ç¢ºèª             |
| `Telegram authentication failed` | `.session` ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ â†’ å†å®Ÿè¡Œ                       |
| URL ãŒæ¤œå‡ºã•ã‚Œãªã„               | ãƒ­ã‚°ã§ `URLæ•°: 0` ç¢ºèª â†’ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã« URL ãŒã‚ã‚‹ã‹ç¢ºèª |

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

**çµ¶å¯¾ã«å…¬é–‹ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«:**

- `.env`ï¼ˆèªè¨¼æƒ…å ±ï¼‰
- `*.session`ï¼ˆTelegram ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰
- `DISCORD_BOT_TOKEN`ï¼ˆæ¼æ´©æ™‚ã¯å³å†ç™ºè¡Œï¼‰

**`.gitignore` ã«å¿…ãšè¿½åŠ ã—ã¦ãã ã•ã„**

---

## ğŸ“¤ æŠ•ç¨¿ä¾‹

![DiscordæŠ•ç¨¿ä¾‹](https://pbs.twimg.com/media/Gj0GF9IaEAAInel?format=jpg&name=large)

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“œ å‰ã®ä¼šè©±:
[10:30] ãƒ¦ãƒ¼ã‚¶ãƒ¼A: ã“ã‚Œè¦‹ãŸï¼Ÿ
[10:31] ãƒ¦ãƒ¼ã‚¶ãƒ¼B: ã¾ã 

## ğŸ¾ãƒ¼ãƒ¼ãƒ¼10-15 10:32é ƒã®ä¼šè©±ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
**ãƒ¦ãƒ¼ã‚¶ãƒ¼C**: é¢ç™½ã„è¨˜äº‹ï¼

https://example.com/article

ğŸ“ å¾Œã®ä¼šè©±:
[10:33] ãƒ¦ãƒ¼ã‚¶ãƒ¼D: ã‚ã‚ŠãŒã¨ã†
[10:34] ãƒ¦ãƒ¼ã‚¶ãƒ¼E: è¦‹ã¦ã¿ã‚‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

````markdown
---
## ğŸ³ Dockerã§ã®åˆ©ç”¨æ–¹æ³•

ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã‚ˆã‚Šã‚‚å®‰å®šã—ã€ä¾å­˜é–¢ä¿‚ã‚’è‡ªå‹•ã§ç®¡ç†ã§ãã¾ã™ã€‚
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ **ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã§OK** ã§ã™ã€‚
---

### ğŸ§© 1ï¸âƒ£ ãƒ“ãƒ«ãƒ‰ã¨èµ·å‹•

```bash
docker compose up -d --build
```
````

> ğŸ”¹ åˆå›ã®ã¿ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è‡ªå‹•ãƒ“ãƒ«ãƒ‰
> ğŸ”¹ `-d` ã¯ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èµ·å‹•ï¼ˆå¸¸é§ãƒ¢ãƒ¼ãƒ‰ï¼‰

---

### ğŸ§© 2ï¸âƒ£ åˆå›ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆTelegram èªè¨¼ï¼‰

```bash
docker compose run --rm -it tg_to_dc_bot python main.py
```

> é›»è©±ç•ªå·ãƒ»èªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆ1 å›ã ã‘å¿…è¦ï¼‰
> æˆåŠŸã™ã‚‹ã¨ `sessions/let1008_session.session` ãŒãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚

---

### ğŸ§© 3ï¸âƒ£ å¸¸é§èµ·å‹•ã¨ãƒ­ã‚°ç¢ºèª

```bash
docker compose up -d
docker compose logs -f
```

> Bot ãŒè‡ªå‹•ã§èµ·å‹•ã—ã€`restart: always` è¨­å®šã«ã‚ˆã‚Š
> PC å†èµ·å‹•å¾Œã‚‚è‡ªå‹•å¾©å¸°ã—ã¾ã™ã€‚

---

### ğŸ§© 4ï¸âƒ£ åœæ­¢ãƒ»å†èµ·å‹•ãƒ»å‰Šé™¤

```bash
docker compose stop        # ä¸€æ™‚åœæ­¢
docker compose restart     # å†èµ·å‹•
docker compose down        # åœæ­¢ï¼‹å‰Šé™¤ï¼ˆå†ãƒ“ãƒ«ãƒ‰æ™‚ï¼‰
```

---

### ğŸ“ å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
telegram-_chat_to_discord/
â”œâ”€â”€ main.py
â”œâ”€â”€ tl_fetcher.py
â”œâ”€â”€ discord_bot.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env
â””â”€â”€ sessions/   â† Telegramã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒè‡ªå‹•ä¿å­˜ã•ã‚Œã‚‹
```

---

### ğŸ”’ æ³¨æ„äº‹é …

- `/sessions` ãƒ•ã‚©ãƒ«ãƒ€ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã¨ã‚³ãƒ³ãƒ†ãƒŠã§å…±æœ‰ã•ã‚Œã‚‹ãŸã‚ã€
  **å†ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦ãƒ»å†ãƒ“ãƒ«ãƒ‰ã—ã¦ã‚‚ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶­æŒ**

---

> ğŸ’¡ **ã¾ã¨ã‚**
>
> - æ‰‹è»½ã«è©¦ã—ãŸã„ â†’ `python main.py`
> - å®‰å®šç¨¼åƒãƒ»å†èµ·å‹•è‡ªå‹•åŒ–ã—ãŸã„ â†’ **Docker Compose ã§å®Ÿè¡Œ**

---



---

## ğŸ”— å‚è€ƒãƒªãƒ³ã‚¯

- **ãƒ‡ãƒ¢å‹•ç”»ãƒ»è©³ç´°**: [Twitter/X](https://x.com/leidream1/status/1978234085639385336)
- **Telegram API**: [https://my.telegram.org/apps](https://my.telegram.org/apps)
- **Discord Developer Portal**: [https://discord.com/developers/applications](https://discord.com/developers/applications)

---
